@using Restaurant_Homework_10_11.Models.ViewModels.RestaurantsViewModels
@model DetailsRestaurantVM
@* @model Restaurant_Homework_10_11.Data.Entities.Restaurant *@

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div class="card mb-3 w-100">
    <div class="row g-0">
        <div class="col-md-6">
            @* <img src="data:images/*;base64,@(Convert.ToBase64String(Model.Restaurant.Image!))" *@
            @* class="w-100" *@
            @* alt="@Model.Restaurant.Name" /> *@
            <img src="data:image/*;base64,@(Model.Restaurant.Image != null ? Convert.ToBase64String(Model.Restaurant.Image) : string.Empty)"
                 class="w-100"
                 alt="@Model.Restaurant.Name" /> @*Modified as was giving error*@
        </div>

        <div class="col-md-6">
            <div class="card-body">
                <h4 class="card-title">@Model.Restaurant.Name</h4>
                @* Michelin Stars *@
                <p>
                    <span class="fw-bold">
                        @Html.DisplayNameFor(m => m.Restaurant.Star!):
                    </span>
                    @Model.Restaurant.Star
                </p>
                @* Restaurant Description *@
                <p class="card-text" style="white-space: pre-line">
                    @Model.Restaurant.RestaurantDescription
                </p>                

                @* First Opening Date *@
                <p>
                    <span class="fw-bold">
                        @Html.DisplayNameFor(m => m.Restaurant.FirstOpeningDate!):
                    </span>
                    @Model.Restaurant.FirstOpeningDate
                </p>
                @* Rating *@
                <p>
                    <span class="fw-bold">
                        @Html.DisplayNameFor(m => m.Restaurant.Rating!):
                    </span>
                    @Model.Restaurant.Rating
                </p>
                @* Working time *@
                <p>
                    <span class="fw-bold">
                        @Html.DisplayNameFor(m => m.Restaurant.WorkingTime!):
                    </span>
                    @Model.Restaurant.WorkingTime
                </p>                
                
                @* Signature dish *@
                <div class="card border-warning">
                    <div class="card-body">
                        <h3>
                            Signature Dish
                        </h3>
                        <p>
                            @* Signature dish picture *@
                            <img src="data:images/jpg;base64,@(Model.Restaurant.SignatureDish.Image != null?   Convert.ToBase64String(Model.Restaurant.SignatureDish.Image) : string.Empty)"
                                 class="img-fluid img-thumbnail" max-width: 30%;
                                 alt="@Model.Restaurant.SignatureDish!.DishName" />

                                 @* Modified to avoid errors *@
                            @* <img src="data:images/*;base64,@(Convert.ToBase64String(@Model.Restaurant.SignatureDish.Image!))" *@
                            @*      class="img-fluid img-thumbnail" max-width: 30%; *@
                            @*      alt="@Model.Restaurant.SignatureDish.DishName" /> *@
                        </p>
                        <p>
                            @* Signature Dish name *@
                            <span class="fw-bold">
                                @Html.DisplayNameFor(m => m.Restaurant.SignatureDish!.DishName):
                            </span>
                            @Model.Restaurant.SignatureDish!.DishName
                        </p>
                        <p>
                            <span class="fw-bold">
                                @Html.DisplayNameFor(m => m.Restaurant.SignatureDish!.DishDescription):
                            </span>
                            @Model.Restaurant.SignatureDish!.DishDescription
                        </p>
                    </div>
                </div>
                @* <p> *@
                @*     <span class="fw-bold"> *@
                @*         @Html.DisplayNameFor(m => m.Restaurant.SignatureDish!.DishName): *@
                @*     </span> *@
                @*     @Model.Restaurant.SignatureDish!.DishName *@
                @* </p> *@

                <p class="card-text">
                    <small class="text-muted">
                        It's all about the restaurants...
                    </small>
                </p>
            </div>
        </div>
    </div>
</div>
<div>
    <a asp-action="Edit"
       asp-route-id="@Model.Restaurant.Id"
       class="btn btn-warning me-3">Edit</a> |
    <a asp-action="Index"
       class="btn btn-primary ms-3">Back to List</a>
</div>



@* Before changes *@
@* @model Restaurant_Homework_10_11.Data.Entities.Restaurant *@

@* @{ *@
@*     ViewData["Title"] = "Details"; *@
@* } *@

@* <h1>Details</h1> *@

@* <div> *@
@*     <h4>Restaurant</h4> *@
@*     <hr /> *@
@*     <dl class="row"> *@
@*         <dt class = "col-sm-2"> *@
@*             @Html.DisplayNameFor(model => model.Name) *@
@*         </dt> *@
@*         <dd class = "col-sm-10"> *@
@*             @Html.DisplayFor(model => model.Name) *@
@*         </dd> *@
@*         <dt class = "col-sm-2"> *@
@*             @Html.DisplayNameFor(model => model.Star) *@
@*         </dt> *@
@*         <dd class = "col-sm-10"> *@
@*             @Html.DisplayFor(model => model.Star) *@
@*         </dd> *@
@*         <dt class = "col-sm-2"> *@
@*             @Html.DisplayNameFor(model => model.FirstOpeningDate) *@
@*         </dt> *@
@*         <dd class = "col-sm-10"> *@
@*             @Html.DisplayFor(model => model.FirstOpeningDate) *@
@*         </dd> *@
@*         <dt class = "col-sm-2"> *@
@*             @Html.DisplayNameFor(model => model.RestaurantDescription) *@
@*         </dt> *@
@*         <dd class = "col-sm-10"> *@
@*             @Html.DisplayFor(model => model.RestaurantDescription) *@
@*         </dd> *@
@*         <dt class = "col-sm-2"> *@
@*             @Html.DisplayNameFor(model => model.WorkingTime) *@
@*         </dt> *@
@*         <dd class = "col-sm-10"> *@
@*             @Html.DisplayFor(model => model.WorkingTime) *@
@*         </dd> *@
@*         <dt class = "col-sm-2"> *@
@*             @Html.DisplayNameFor(model => model.Rating) *@
@*         </dt> *@
@*         <dd class = "col-sm-10"> *@
@*             @Html.DisplayFor(model => model.Rating) *@
@*         </dd> *@
@*         <dt class = "col-sm-2"> *@
@*             @Html.DisplayNameFor(model => model.Image) *@
@*         </dt> *@
@*         <dd class = "col-sm-10"> *@
@*             @Html.DisplayFor(model => model.Image) *@
@*         </dd> *@
@*         <dt class = "col-sm-2"> *@
@*             @Html.DisplayNameFor(model => model.IsDeleted) *@
@*         </dt> *@
@*         <dd class = "col-sm-10"> *@
@*             @Html.DisplayFor(model => model.IsDeleted) *@
@*         </dd> *@
@*         <dt class = "col-sm-2"> *@
@*             @Html.DisplayNameFor(model => model.SignatureDish) *@
@*         </dt> *@
@*         <dd class = "col-sm-10"> *@
@*             @Html.DisplayFor(model => model.SignatureDish.Id) *@
@*         </dd> *@
@*     </dl> *@
@* </div> *@
@* <div> *@
@*     <a asp-action="Edit" asp-route-id="@Model?.Id">Edit</a> | *@
@*     <a asp-action="Index">Back to List</a> *@
@* </div> *@
