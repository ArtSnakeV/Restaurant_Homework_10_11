@* @model IEnumerable<Restaurant_Homework_10_11.Data.Entities.Restaurant> *@
@using RestaurantMVCViewer.Data.Entities
@using RestaurantMVCViewer.Models.DTO
@using RestaurantMVCViewer.Models.ViewModels.RestaurantsViewModels
@model IndexRestaurantsVM
@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>


<a asp-action="Create"
class="btn btn-lg btn-outline-primary mb-5">Create</a>

<form asp-action="Index" method="get">
    <div class="row">
        <div class="col col-md-4 col-12">
            <div class="mb-3">
                <select asp-for="DishId" asp-items="@Model.DishSL"
                class="form-select bg-light text-dark">
                    <option selected="selected" value="0">
                        All
                    </option>
                </select>
            </div>
        </div>
    </div>
    <div class="col col-md-4 col-12">
        <div class="mb-3">
            <input asp-for="Search"
            class="form-control"
            plaseholder="@nameof(Model.Search)" />
        </div>
    </div>
    <div class="col clo-md-4 col-12">
        <div class="mb-3">
            <button type="submit" class="btn btn-success">Search</button>
        </div>
    </div>
</form>

<div class="row">
    @* @foreach(Restaurant restaurant in Model.Restaurants) // before using DTO*@
    @foreach (RestaurantDTO restaurant in Model.Restaurants)
    {
        <div class="col col-xl-3 col-lg-4 col-md-6 col-12 mb-5">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title text-truncate">@restaurant.Name</h5>
                    <p class="card-text text-truncate">@restaurant.RestaurantDescription</p>
                    <p class="card-text">
                        <small class="text-muted text-truncate">
                            @Html.DisplayNameFor(Model=>
                            Model.Restaurants.First().SignatureDish!.DishName)
                            :@restaurant!.SignatureDish!.DishName
                        </small>
                    </p>

                    <div class="btn-group btn-group-sm"
                         role="group"
                         aria-label="Small buttons group">
                        <a asp-action="Details"
                           asp-route-id="@restaurant.Id"
                           class="btn btn-outline-success">Details</a>
                        <a asp-action="Edit"
                           asp-route-id="@restaurant.Id"
                           class="btn btn-outline-warning">Edit</a>
                        <a asp-action="Delete"
                           asp-route-id="@restaurant.Id"
                           class="btn btn-outline-danger">Delete</a>
                    </div>
                    <img src="data:image/*;base64,@(Convert.ToBase64String(restaurant.Image!))"
                         class="card-img-bottom"
                         alt="@restaurant.Name">
                </div>
            </div>
        </div>
    }
</div>

@* <p> *@
@*     <a asp-action="Create">Create New</a> *@
@* </p> *@
@* <table class="table"> *@
@*     <thead> *@
@*         <tr> *@
@*             <th> *@
@*                 @Html.DisplayNameFor(model => model.Name) *@
@*             </th> *@
@*             <th> *@
@*                 @Html.DisplayNameFor(model => model.Star) *@
@*             </th> *@
@*             <th> *@
@*                 @Html.DisplayNameFor(model => model.FirstOpeningDate) *@
@*             </th> *@
@*             <th> *@
@*                 @Html.DisplayNameFor(model => model.RestaurantDescription) *@
@*             </th> *@
@*             <th> *@
@*                 @Html.DisplayNameFor(model => model.WorkingTime) *@
@*             </th> *@
@*             <th> *@
@*                 @Html.DisplayNameFor(model => model.Rating) *@
@*             </th> *@
@*             <th> *@
@*                 @Html.DisplayNameFor(model => model.Image) *@
@*             </th> *@
@*             <th> *@
@*                 @Html.DisplayNameFor(model => model.IsDeleted) *@
@*             </th> *@
@*             <th> *@
@*                 @Html.DisplayNameFor(model => model.SignatureDish) *@
@*             </th> *@
@*             <th></th> *@
@*         </tr> *@
@*     </thead> *@
@*     <tbody> *@
@* @foreach (var item in Model) { *@
@*         <tr> *@
@*             <td> *@
@*                 @Html.DisplayFor(modelItem => item.Name) *@
@*             </td> *@
@*             <td> *@
@*                 @Html.DisplayFor(modelItem => item.Star) *@
@*             </td> *@
@*             <td> *@
@*                 @Html.DisplayFor(modelItem => item.FirstOpeningDate) *@
@*             </td> *@
@*             <td> *@
@*                 @Html.DisplayFor(modelItem => item.RestaurantDescription) *@
@*             </td> *@
@*             <td> *@
@*                 @Html.DisplayFor(modelItem => item.WorkingTime) *@
@*             </td> *@
@*             <td> *@
@*                 @Html.DisplayFor(modelItem => item.Rating) *@
@*             </td> *@
@*             <td> *@
@*                 @Html.DisplayFor(modelItem => item.Image) *@
@*             </td> *@
@*             <td> *@
@*                 @Html.DisplayFor(modelItem => item.IsDeleted) *@
@*             </td> *@
@*             <td> *@
@*                 @Html.DisplayFor(modelItem => item.SignatureDish.Id) *@
@*             </td> *@
@*             <td> *@
@*                 <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> | *@
@*                 <a asp-action="Details" asp-route-id="@item.Id">Details</a> | *@
@*                 <a asp-action="Delete" asp-route-id="@item.Id">Delete</a> *@
@*             </td> *@
@*         </tr> *@
@* } *@
@*     </tbody> *@
@* </table> *@
